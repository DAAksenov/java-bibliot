<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title th:text="#{pageTitle}"></title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
</head>
<body>

<nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="navbar-menu ml-6">
        <div class="navbar-start">
            <div class="navbar-item has-dropdown is-hoverable">
                <span class="navbar-link" th:text="#{language}"></span>

                <div class="navbar-dropdown">
                    <a class="navbar-item" th:href="@{'?locale=en'}">
                        English
                    </a>
                    <a class="navbar-item" th:href="@{'?locale=ru'}">
                        Русский
                    </a>
                </div>
            </div>
        </div>

        <div class="navbar-end">
            <div class="navbar-item">
                <div class="buttons">
                    <a class="button is-primary" href="/admin" th:text="#{addAdmin}"></a>
                    <a class="button is-light" href="/logout" th:text="#{logout}">Log out</a>
                </div>
            </div>
        </div>
    </div>
</nav>

<div class="container p-6">
    <div class="columns is-centered">
        <div class="column is-one-third box p-5">
            <form th:method="${exists ? 'PATCH' : 'POST'}" th:action="@{${exists ? '/{id}' : '/'}(id=${book.getId()})}"
                  th:object="${book}" class="mb-2">
                <div class="field">
                    <label class="label" for="name" th:text="#{title}"></label>
                    <div class="control">
                        <input th:field="*{name}" class="input" type="text" id="name">
                    </div>
                </div>

                <div class="field">
                    <label class="label" for="publishing" th:text="#{publishing}"></label>
                    <div class="control">
                        <input th:field="*{publishing}" class="input" type="text" id="publishing">
                    </div>
                </div>

                <div class="field">
                    <label class="label" for="student-name" th:text="#{studentName}"></label>
                    <div class="control">
                        <input th:field="*{studentName}" class="input" type="text" id="student-name">
                    </div>
                </div>

                <div class="field">
                    <label class="label" for="issue-date" th:text="#{issueDate}"></label>
                    <div class="control">
                        <input th:field="*{issueDate}" class="input" type="text" id="issue-date">
                    </div>
                </div>

                <div class="field">
                    <label class="label" for="return-date" th:text="#{returnDate}"></label>
                    <div class="control">
                        <input th:field="*{returnDate}" class="input" type="text" id="return-date">
                    </div>
                </div>

                <button class="button is-primary is-fullwidth" th:text="#{save}"></button>
            </form>
            <a th:href="@{/}" class="button is-fullwidth mb-2" th:text="#{back}">Назад</a>
            <form th:method="DELETE" th:action="@{/{id}(id=${book.getId()})}">
                <button class="button is-danger is-fullwidth" th:text="#{delete}"></button>
            </form>
        </div>
    </div>
</div>
</body>
</html>